<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>ë§ˆì´ì›Œì¹˜</title>

<!-- manifest -->
<link rel="manifest" id="manifest-placeholder">

<!-- iOS -->
<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="apple-mobile-web-app-status-bar-style" content="black" />
<link rel="apple-touch-icon" href="A47A3114-D5FA-4034-A494-F38D0538512F.png">

<style>
  :root{
    --bg:#101014;
    --soft:#1a1a1f;
    --glass:rgba(255,255,255,0.05);
    --border:rgba(255,255,255,0.12);
    --inner:inset 0 0 4px rgba(255,255,255,0.12);
    --outer:0 3px 8px rgba(0,0,0,0.45);
    --radius:6px;
    --text:#fff;
    --sub:#b6b6b6;
    --accent:#3b7bff;
    --expense:#ff4c4c;
    --income:#3be0ff;
  }

  html,body{
    margin:0;
    background:var(--bg);
    color:var(--text);
    font-family:-apple-system, BlinkMacSystemFont, "SF Pro", Inter, Roboto, sans-serif;
  }

  .app{
    max-width:1000px;
    margin:0 auto;
    padding:14px;
    position:relative;
  }

  header{
    display:flex;
    justify-content:space-between;
    align-items:center;
    margin-bottom:14px;
  }
  h1{margin:0;font-size:20px;font-weight:600;}
  .small{color:var(--sub);font-size:13px;}

  /* ìŠ¤í€˜ì–´ ëª¨í”¼ì¦˜ ê³µí†µ */
  .sq{
    background:var(--glass);
    border:1px solid var(--border);
    border-radius:var(--radius);
    box-shadow:var(--inner), var(--outer);
    backdrop-filter:blur(12px);
  }

  input[type="text"], input[type="file"], select{
    width:100%;
    padding:8px;
    border-radius:var(--radius);
    background:var(--glass);
    border:1px solid var(--border);
    color:var(--text);
    box-shadow:var(--inner);
    font-size:14px;
  }

  .btn{
    padding:8px 12px;
    border-radius:var(--radius);
    border:1px solid var(--border);
    background:var(--glass);
    color:var(--text);
    cursor:pointer;
    box-shadow:var(--inner), var(--outer);
    font-size:14px;
  }
  .btn:hover{background:rgba(255,255,255,0.08);}
  .btn:active{transform:scale(.97);}
  .ghost{background:transparent !important;}

  .categories{
    display:flex;
    gap:10px;
    flex-wrap:wrap;
    margin-top:10px;
  }
  .cat{
    flex:1 1 140px;
    min-width:140px;
    padding:16px;
    text-align:center;
    cursor:pointer;
  }

  .brand-list, .watch-list{
    display:grid;
    grid-template-columns:repeat(auto-fill,minmax(150px,1fr));
    gap:10px;
    margin-top:12px;
  }

  .brand-card, .watch-item{
    padding:10px;
    display:flex;
    flex-direction:column;
    gap:8px;
  }

  .brand-image, .watch-img{
    width:100%;
    height:120px;
    border-radius:var(--radius);
    object-fit:cover;
    background:#0003;
  }

  .brand-row, .watch-row{
    display:flex;
    justify-content:space-between;
    align-items:center;
  }
  .brand-name{font-weight:600;}

  #modal{
    position:fixed;
    left:0; top:0;
    width:100%; height:100%;
    background:rgba(0,0,0,0.4);
    backdrop-filter:blur(6px);
    display:none;
    align-items:center;
    justify-content:center;
    padding:16px;
    z-index:1000;
  }
  #modal-card{
    padding:16px;
    max-width:420px;
    width:100%;
  }

  main section{display:none;}
  main section.active{display:block;}

  /* ê°€ê³„ë¶€ ì „ìš© */
  .account-header{display:flex;justify-content:center;align-items:center;gap:12px;margin-bottom:12px;}
  .account-period{font-weight:600;}
  .weekday-row{
    display:flex;
    justify-content:space-between;
    margin-top:8px;
    gap:6px;
  }
  .weekday-card{
    flex:1;
    padding:6px;
    text-align:center;
  }
  .weekday-amount.income-text{color:var(--income);}
  .weekday-amount.expense-text{color:var(--expense);}
  #account-summary{
    display:flex;
    justify-content:space-around;
    margin-top:12px;
    font-weight:600;
  }

  /* í”Œë¡œíŒ… ë²„íŠ¼ */
  .fab{
    position:fixed;
    right:16px;
    bottom:16px;
    width:50px;
    height:50px;
    border-radius:50%;
    display:flex;
    justify-content:center;
    align-items:center;
    font-size:28px;
    cursor:pointer;
    box-shadow:var(--inner), var(--outer);
    background:var(--glass);
    border:1px solid var(--border);
  }

</style>
</head>
<body>
<div class="app">

<header>
  <div>
    <h1>ë§ˆì´ì›Œì¹˜</h1>
    <div class="small">created by jjun</div>
  </div>
  <div style="display:flex;align-items:center;gap:8px;">
    <!-- ìƒˆë¡œê³ ì¹¨ ë²„íŠ¼ -->
    <button class="btn" onclick="location.reload()">ğŸ”„</button>
    <!-- ê°€ê³„ë¶€ ë²„íŠ¼ -->
    <button class="btn" title="ê°€ê³„ë¶€" onclick="openAccount()">
      <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="white">
        <path d="M6 2h12v20H6z" stroke="white" stroke-width="2" fill="none"/>
        <path d="M6 7h12" stroke="white" stroke-width="2"/>
      </svg>
    </button>
  </div>
</header>

<main>
  <!-- í™ˆ í™”ë©´ -->
  <section id="page-main" class="active">
    <div class="small">ì¹´í…Œê³ ë¦¬ë¥¼ ì„ íƒí•˜ì„¸ìš”</div>
    <div class="categories" id="categories-root"></div>
  </section>

  <!-- ì¹´í…Œê³ ë¦¬ ë‚´ë¶€ -->
  <section id="page-category">
    <div style="display:flex;gap:8px;align-items:center;margin-bottom:10px;">
      <button class="btn ghost" onclick="showMain()">â†</button>
      <strong id="category-title"></strong>
    </div>
    <input type="text" id="brand-search" placeholder="ë¸Œëœë“œ ê²€ìƒ‰" oninput="renderBrandList()">
    <div class="brand-list" id="brand-list"></div>
    <div class="fab" onclick="openAddBrand()">ï¼‹</div>
  </section>

  <!-- ë¸Œëœë“œ ë‚´ë¶€ -->
  <section id="page-brand">
    <div style="display:flex;gap:8px;align-items:center;margin-bottom:10px;">
      <button class="btn ghost" onclick="showCategory(currentCategoryIndex)">â†</button>
      <strong id="brand-title"></strong>
    </div>
    <input type="text" id="watch-search" placeholder="ì‹œê³„ ê²€ìƒ‰" oninput="renderWatchList()">
    <div class="watch-list" id="watch-list"></div>
    <div class="fab" onclick="openAddWatch()">ï¼‹</div>
  </section>

  <!-- ê°€ê³„ë¶€ -->
  <section id="page-account">
    <div class="account-header">
      <button class="btn ghost" onclick="changeMonth(-1)">â†</button>
      <div class="account-period" id="account-period"></div>
      <button class="btn ghost" onclick="changeMonth(1)">â†’</button>
    </div>
    <div class="small" id="account-month-total" style="text-align:center;"></div>
    <div class="weekday-row" id="weekday-row"></div>
    <div id="account-summary">
      <div class="btn ghost" id="sum-expense" onclick="showAccountByType('expense')"></div>
      <div class="btn ghost" id="sum-income" onclick="showAccountByType('income')"></div>
      <div id="sum-final"></div>
    </div>
    <div class="fab" onclick="openAccountPopup()">ï¼‹</div>
  </section>
</main>

<!-- ëª¨ë‹¬ -->
<div id="modal">
  <div id="modal-card" class="sq"></div>
</div>

</div>

<script>
/* ===== ë°ì´í„° êµ¬ì¡° ===== */
let categories = JSON.parse(localStorage.getItem("MW_data") || "null");
if(!categories){
  categories = [
    { name:"ë³´ìœ ", brands:[] },
    { name:"ë¯¸ë³´ìœ ", brands:[] },
    { name:"ì¶”ì–µ", brands:[] }
  ];
}

let accounts = JSON.parse(localStorage.getItem("MW_account") || "[]");
let currentCategoryIndex = null;
let currentBrandIndex = null;
let currentMonthOffset = 0;

/* ===== ì €ì¥ ===== */
function save(){ localStorage.setItem("MW_data", JSON.stringify(categories)); }
function saveAccounts(){ localStorage.setItem("MW_account", JSON.stringify(accounts)); }

/* ===== ë©”ì¸ ë Œë” ===== */
function renderMain(){
  const root = document.getElementById("categories-root");
  root.innerHTML = "";
  categories.forEach((cat,i)=>{
    let totalWatches = cat.brands.reduce((sum,b)=>sum + b.watches.length,0);
    const el = document.createElement("div");
    el.className="sq cat";
    el.innerHTML=`<h2>${cat.name}</h2><p>${cat.brands.length}ê°œ ë¸Œëœë“œ, ${totalWatches}ê°œ ì‹œê³„</p>`;
    el.onclick=()=>showCategory(i);
    root.appendChild(el);
  });
}
renderMain();
function showMain(){ currentCategoryIndex=null; showPage("page-main"); }

/* ===== í˜ì´ì§€ ì „í™˜ ===== */
function showPage(id){
  document.querySelectorAll("main section").forEach(s=>s.classList.remove("active"));
  document.getElementById(id).classList.add("active");
}

/* ===== ì¹´í…Œê³ ë¦¬ ===== */
function showCategory(i){
  currentCategoryIndex=i;
  document.getElementById("category-title").textContent=categories[i].name;
  document.getElementById("brand-search").value="";
  renderBrandList();
  showPage("page-category");
}
function renderBrandList(){
  const wrap = document.getElementById("brand-list");
  wrap.innerHTML="";
  const q = document.getElementById("brand-search").value.toLowerCase();
  categories[currentCategoryIndex].brands.forEach((b,bi)=>{
    if(q && !b.name.toLowerCase().includes(q)) return;
    const card=document.createElement("div");
    card.className="sq brand-card";
    card.innerHTML=`
      <img src="${b.img}" class="brand-image">
      <div class="brand-row">
        <div>
          <div class="brand-name">${b.name}</div>
          <div class="small">${b.watches.length}ê°œ ì‹œê³„</div>
        </div>
        <div style="display:flex;flex-direction:column;gap:6px;">
          <button class="btn" onclick="showBrand(${bi})">ì—´ê¸°</button>
          <button class="btn ghost" onclick="deleteBrand(${bi})">ì‚­ì œ</button>
        </div>
      </div>
      <div style="display:flex;gap:6px;">
        <button class="btn ghost" onclick="moveBrandUp(${bi})">â†‘</button>
        <button class="btn ghost" onclick="moveBrandDown(${bi})">â†“</button>
      </div>
    `;
    wrap.appendChild(card);
  });
}
function deleteBrand(i){ if(confirm("ì‚­ì œ?")){ categories[currentCategoryIndex].brands.splice(i,1); save(); renderBrandList(); } }
function moveBrandUp(i){ if(i===0) return; [categories[currentCategoryIndex].brands[i-1],categories[currentCategoryIndex].brands[i]]=[categories[currentCategoryIndex].brands[i],categories[currentCategoryIndex].brands[i-1]]; save(); renderBrandList();}
function moveBrandDown(i){ let arr=categories[currentCategoryIndex].brands; if(i===arr.length-1) return; [arr[i+1],arr[i]]=[arr[i],arr[i+1]]; save(); renderBrandList();}

/* ===== ë¸Œëœë“œ ì¶”ê°€ ===== */
function openAddBrand(){
  const modal=document.getElementById("modal");
  const card=document.getElementById("modal-card");
  card.innerHTML=`
    <h3 style="margin-top:0;">ë¸Œëœë“œ ì¶”ê°€</h3>
    <input id="b-name" type="text" placeholder="ë¸Œëœë“œëª…">
    <div style="margin-top:8px;">
      <input id="b-img" type="file" accept="image/*">
    </div>
    <div style="display:flex;gap:8px;margin-top:12px;">
      <button class="btn" onclick="addBrand()">ì¶”ê°€</button>
      <button class="btn ghost" onclick="closeModal()">ì·¨ì†Œ</button>
    </div>
  `;
  modal.style.display="flex";
}
function addBrand(){
  const name=document.getElementById("b-name").value.trim();
  const file=document.getElementById("b-img").files[0];
  if(!name){ alert("ë¸Œëœë“œëª… ì…ë ¥"); return;}
  if(file){
    const fr=new FileReader();
    fr.onload=e=>{ pushBrand(name,e.target.result); closeModal();}
    fr.readAsDataURL(file);
  } else{ pushBrand(name,""); closeModal(); }
}
function pushBrand(name,img){
  categories[currentCategoryIndex].brands.push({name,img,watches:[]});
  save(); renderBrandList();
}
function closeModal(){
  document.getElementById("modal").style.display = "none";
  document.activeElement.blur(); // ì…ë ¥ í¬ì»¤ìŠ¤ ì œê±°
  window.scrollTo(0,0); // í™”ë©´ ìœ„ì¹˜ ì´ˆê¸°í™”
}
/* ===== ë¸Œëœë“œ ë‚´ë¶€ ===== */
function showBrand(bi){
  currentBrandIndex=bi;
  document.getElementById("brand-title").textContent=categories[currentCategoryIndex].brands[bi].name;
  document.getElementById("watch-search").value="";
  renderWatchList();
  showPage("page-brand");
}
function renderWatchList(){
  const wrap=document.getElementById("watch-list");
  wrap.innerHTML="";
  const q=document.getElementById("watch-search").value.toLowerCase();
  const brand=categories[currentCategoryIndex].brands[currentBrandIndex];
  brand.watches.forEach((w,wi)=>{
    if(q && !w.name.toLowerCase().includes(q)) return;
    const item=document.createElement("div");
    item.className="sq watch-item";
    item.innerHTML=`
      <img src="${w.img}" class="watch-img">
      <div style="font-weight:600;">${w.name}</div>
      <div style="display:flex;gap:8px;width:100%;">
        <button class="btn" onclick="editWatch(${wi})">ìˆ˜ì •</button>
        <button class="btn ghost" onclick="deleteWatch(${wi})">ì‚­ì œ</button>
      </div>
    `;
    wrap.appendChild(item);
  });
}
function openAddWatch(){
  const modal=document.getElementById("modal");
  const card=document.getElementById("modal-card");
  card.innerHTML=`
    <h3 style="margin-top:0;">ì‹œê³„ ì¶”ê°€</h3>
    <input id="w-name" type="text" placeholder="ì‹œê³„ëª…">
    <div style="margin-top:8px;">
      <input id="w-img" type="file" accept="image/*">
    </div>
    <div style="display:flex;gap:8px;margin-top:12px;">
      <button class="btn" onclick="addWatch()">ì¶”ê°€</button>
      <button class="btn ghost" onclick="closeModal()">ì·¨ì†Œ</button>
    </div>
  `;
  modal.style.display="flex";
}
function addWatch(){
  const name=document.getElementById("w-name").value.trim();
  const file=document.getElementById("w-img").files[0];
  if(!name){ alert("ì´ë¦„ ì…ë ¥"); return;}
  if(!file){ alert("ì´ë¯¸ì§€ ì„ íƒ"); return;}
  const fr=new FileReader();
  fr.onload=e=>{
    categories[currentCategoryIndex].brands[currentBrandIndex].watches.push({name,img:e.target.result});
    save();
    closeModal(); renderWatchList();
  }
  fr.readAsDataURL(file);
}
function deleteWatch(i){ if(confirm("ì‚­ì œ?")){ categories[currentCategoryIndex].brands[currentBrandIndex].watches.splice(i,1); save(); renderWatchList(); } }
function editWatch(i){ openAddWatch(); setTimeout(()=>{ document.getElementById("w-name").value=categories[currentCategoryIndex].brands[currentBrandIndex].watches[i].name;},100); }

/* ===== ê°€ê³„ë¶€ ===== */
function openAccount(){
  showPage("page-account");
  renderAccountOverviewMonth(currentMonthOffset);
}
function formatCurrency(n){ return n.toLocaleString(); }
function changeMonth(delta){ currentMonthOffset+=delta; renderAccountOverviewMonth(currentMonthOffset);}
function renderAccountOverviewMonth(offset){
  const now=new Date();
  const target=new Date(now.getFullYear(),now.getMonth()+offset,1);
  const year=target.getFullYear(),month=target.getMonth();
  document.getElementById("account-period").textContent=`${year}ë…„ ${month+1}ì›”`;
  const monthStart=new Date(year,month,1);
  const monthEnd=new Date(year,month+1,0);
  let monthTotal=0;
  const weekdaySums=[0,0,0,0,0,0,0];
  accounts.forEach(a=>{
    const d=new Date(a.date+'T00:00:00');
    if(d>=monthStart && d<=monthEnd){
      monthTotal += (a.type==='income'? Number(a.amount) : -Number(a.amount));
      weekdaySums[d.getDay()] += (a.type==='income'? Number(a.amount) : -Number(a.amount));
    }
  });
  document.getElementById("account-month-total").textContent=`ì´ë²ˆ ë‹¬ ì‚¬ìš© ì´ì•¡: ${formatCurrency(Math.abs(monthTotal))}`;
  const labels=['ì¼','ì›”','í™”','ìˆ˜','ëª©','ê¸ˆ','í† '];
  const row=document.getElementById("weekday-row"); row.innerHTML='';
  for(let i=0;i<7;i++){
    const val=weekdaySums[i];
    const card=document.createElement('div');
    card.className='sq weekday-card';
    const txt=(val>=0?'+':'-')+formatCurrency(Math.abs(val));
    card.innerHTML=`<div class="small">${labels[i]}</div><div class="weekday-amount ${val>=0?'income-text':'expense-text'}">${txt}</div>`;
    row.appendChild(card);
  }
  const totalExpense=accounts.filter(a=>{ const d=new Date(a.date+'T00:00:00'); return d>=monthStart&&d<=monthEnd && a.type==='expense'}).reduce((s,a)=>s+Number(a.amount),0);
  const totalIncome=accounts.filter(a=>{ const d=new Date(a.date+'T00:00:00'); return d>=monthStart&&d<=monthEnd && a.type==='income'}).reduce((s,a)=>s+Number(a.amount),0);
  document.getElementById("sum-expense").textContent=`-${formatCurrency(totalExpense)}`;
  document.getElementById("sum-expense").style.color='var(--expense)';
  document.getElementById("sum-income").textContent=`+${formatCurrency(totalIncome)}`;
  document.getElementById("sum-income").style.color='var(--income)';
  const finalAmount=totalIncome-totalExpense;
  document.getElementById("sum-final").textContent=(finalAmount>=0?'+':'-')+formatCurrency(Math.abs(finalAmount));
  document.getElementById("sum-final").style.color='var(--text)';
}
function openAccountPopup(){
  const modal=document.getElementById("modal");
  const card=document.getElementById("modal-card");
  card.innerHTML=`
    <h3 style="margin-top:0;">ê°€ê³„ë¶€ ì¶”ê°€</h3>
    <div style="display:flex;gap:8px;">
      <button class="btn" onclick="openPurchase()">êµ¬ë§¤</button>
      <button class="btn" onclick="openSale()">íŒë§¤</button>
    </div>
    <button class="btn ghost" onclick="closeModal()">ì·¨ì†Œ</button>
  `;
  modal.style.display="flex";
}
function openPurchase(){ closeModal(); openTransaction('expense','êµ¬ë§¤'); }
function openSale(){ closeModal(); openTransaction('income','íŒë§¤'); }
function openTransaction(type,label){
  const modal=document.getElementById("modal");
  const card=document.getElementById("modal-card");
  card.innerHTML=`
    <h3>${label} ì…ë ¥</h3>
    <input type="number" id="t-amount" placeholder="ê°€ê²©">
    <input type="text" id="t-place" placeholder="${label==='êµ¬ë§¤'?'êµ¬ë§¤ì²˜':'íŒë§¤ì²˜'}">
    <input type="date" id="t-date" placeholder="ë‚ ì§œ">
    <input type="text" id="t-model" placeholder="ëª¨ë¸ëª…">
    <input type="text" id="t-brand" placeholder="ë¸Œëœë“œ">
    <textarea id="t-note" placeholder="${label}ì´ìœ (ë©”ëª¨)"></textarea>
    <div style="display:flex;gap:8px;margin-top:12px;">
      <button class="btn" onclick="addTransaction('${type}')">ì¶”ê°€</button>
      <button class="btn ghost" onclick="closeModal()">ì·¨ì†Œ</button>
    </div>
  `;
  modal.style.display="flex";
}
function addTransaction(type){
  const t={ type,
    amount:Number(document.getElementById("t-amount").value),
    place:document.getElementById("t-place").value,
    date:document.getElementById("t-date").value,
    model:document.getElementById("t-model").value,
    brand:document.getElementById("t-brand").value,
    note:document.getElementById("t-note").value
  };
  accounts.push(t); saveAccounts(); closeModal(); renderAccountOverviewMonth(currentMonthOffset);
}
function showAccountByType(t){
  alert(accounts.filter(a=>a.type===t).map(a=>`${a.date} ${a.model} ${a.amount}`).join('\n'));
}

/* ===== PWA manifest & SW ===== */
const manifest = { name:"ë§ˆì´ì›Œì¹˜", short_name:"ë§ˆì´ì›Œì¹˜", start_url:"./", display:"standalone", theme_color:"#000000", background_color:"#000000", icons:[{src:"icon-192.png",sizes:"192x192",type:"image/png"},{src:"icon-512.png",sizes:"512x512",type:"image/png"}] };
const mBlob=new Blob([JSON.stringify(manifest)],{type:"application/json"});
document.getElementById("manifest-placeholder").href=URL.createObjectURL(mBlob);
const swBlob=new Blob([`self.addEventListener("install",e=>self.skipWaiting());self.addEventListener("activate",e=>self.clients.claim());self.addEventListener("fetch",e=>e.respondWith(fetch(e.request).catch(()=>{})));`],{type:"text/javascript"});
if("serviceWorker" in navigator){navigator.serviceWorker.register(URL.createObjectURL(swBlob));}
function showAccountByType(t){
  closeModal(); // í˜¹ì‹œ ëª¨ë‹¬ ë–  ìˆìœ¼ë©´ ë‹«ê¸°
  const modal=document.getElementById("modal");
  const card=document.getElementById("modal-card");
  card.innerHTML=`<h3>${t==='expense'?'ì§€ì¶œ':'ìˆ˜ì…'} ë‚´ì—­</h3>`;
  
  const listWrap=document.createElement('div');
  listWrap.style.maxHeight='60vh';
  listWrap.style.overflowY='auto';
  listWrap.style.display='flex';
  listWrap.style.flexDirection='column';
  listWrap.style.gap='8px';
  
  accounts.filter(a=>a.type===t).forEach((a,idx)=>{
    const item=document.createElement('div');
    item.className='sq';
    item.style.padding='8px';
    item.innerHTML=`
      <div style="display:flex;justify-content:space-between;align-items:center;">
        <div>
          <div style="font-weight:600">${a.model} (${a.brand})</div>
          <div class="small">${a.date} | ${a.place}</div>
          <div class="small">${a.note || ''}</div>
        </div>
        <div style="display:flex;flex-direction:column;gap:6px;">
          <div style="color:${t==='income'?'var(--income)':'var(--expense)'};font-weight:600">${t==='income'?'+':'-'}${formatCurrency(a.amount)}</div>
          <button class="btn" onclick="editTransaction(${idx})">ìˆ˜ì •</button>
          <button class="btn ghost" onclick="deleteTransaction(${idx})">ì‚­ì œ</button>
        </div>
      </div>
    `;
    listWrap.appendChild(item);
  });
  
  card.appendChild(listWrap);
  card.innerHTML += `<button class="btn ghost" onclick="closeModal()">ë‹«ê¸°</button>`;
  modal.style.display='flex';
}

function deleteTransaction(idx){
  if(confirm("ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?")){
    accounts.splice(idx,1);
    saveAccounts();
    renderAccountOverviewMonth(currentMonthOffset);
    closeModal();
  }
}

function editTransaction(idx){
  const a=accounts[idx];
  openTransaction(a.type,a.type==='income'?'íŒë§¤':'êµ¬ë§¤');
  setTimeout(()=>{
    document.getElementById("t-amount").value=a.amount;
    document.getElementById("t-place").value=a.place;
    document.getElementById("t-date").value=a.date;
    document.getElementById("t-model").value=a.model;
    document.getElementById("t-brand").value=a.brand;
    document.getElementById("t-note").value=a.note;
    // ìˆ˜ì • í›„ ì €ì¥ ë²„íŠ¼ êµì²´
    const btn=document.querySelector("#modal-card .btn");
    btn.textContent="ì €ì¥";
    btn.onclick=()=>{
      a.amount=Number(document.getElementById("t-amount").value);
      a.place=document.getElementById("t-place").value;
      a.date=document.getElementById("t-date").value;
      a.model=document.getElementById("t-model").value;
      a.brand=document.getElementById("t-brand").value;
      a.note=document.getElementById("t-note").value;
      saveAccounts(); closeModal(); renderAccountOverviewMonth(currentMonthOffset);
    }
  },100);
}
</script>
</body>
</html>
